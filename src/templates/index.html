<!DOCTYPE html>
<html>
    <head>
        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
    </head>
    <body>
        <div>
            <h1>Tubes Algeo 2: Content-Based Information Retrieval</h1>
            <form method="POST" enctype="multipart/form-data">
                <p>Input folder dataset:</p>
                <input type="file" name="folder_dataset" webkitdirectory multiple />
                <p>Input query:</p>
                <input type="file" name="query_img"><br>
                <br>
                <input type="checkbox" id="1" name="cbir-by-texture" value="0">
                <label for="cbir-by-texture">CBIR by: color (off), texture (on)</label><br>
                <br>
                <input type="submit">
            </form>
            <h2>Query:</h2>
            {% if query_path %}
            <img src="{{url_for('static', filename='query/'+query_path)}}" width="300px">
            {% endif %}
            <h2>Results:</h2>
            {% if scores %}
            <p>{{img_count}} images in {{time}} seconds</p>
            {% for score in scores %}
            <figure style="float: left; margin-right: 20px; margin-bottom:20px;">
                <img src="{{url_for('static', filename='dataset/'+dataset_folder+'/'+score[1])}}" height="200px">
                <figcaption>{{ score[0] }}</figcaption>
            </figure>
            {% endfor %}
            {% endif %}
        </div>
    </body>
</html>